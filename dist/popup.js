var Ue=Object.defineProperty;var ze=(t,e,n)=>e in t?Ue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var be=(t,e,n)=>ze(t,typeof e!="symbol"?e+"":e,n);function N(){}function Ae(t){return t()}function $e(){return Object.create(null)}function V(t){t.forEach(Ae)}function Oe(t){return typeof t=="function"}function ie(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function xe(t){return Object.keys(t).length===0}function We(t,...e){if(t==null){for(const s of e)s(void 0);return N}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function je(t,e,n){t.$$.on_destroy.push(We(e,n))}function i(t,e){t.appendChild(e)}function A(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function o(t){return document.createElement(t)}function F(t){return document.createTextNode(t)}function b(){return F(" ")}function Be(){return F("")}function z(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function r(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ge(t){return Array.from(t.childNodes)}function le(t,e){e=""+e,t.data!==e&&(t.data=e)}function W(t,e){t.value=e??""}function K(t,e,n,s){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function _e(t,e,n){for(let s=0;s<t.options.length;s+=1){const l=t.options[s];if(l.__value===e){l.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Me(t){const e=t.querySelector(":checked");return e&&e.__value}function Ke(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}let fe;function ae(t){fe=t}function Ie(){if(!fe)throw new Error("Function called outside component initialization");return fe}function Fe(t){Ie().$$.on_mount.push(t)}function Pe(){const t=Ie();return(e,n,{cancelable:s=!1}={})=>{const l=t.$$.callbacks[e];if(l){const a=Ke(e,n,{cancelable:s});return l.slice().forEach(c=>{c.call(t,a)}),!a.defaultPrevented}return!0}}const te=[],Se=[];let ne=[];const Le=[],Ve=Promise.resolve();let ye=!1;function Ye(){ye||(ye=!0,Ve.then(Ne))}function de(t){ne.push(t)}const ke=new Set;let Z=0;function Ne(){if(Z!==0)return;const t=fe;do{try{for(;Z<te.length;){const e=te[Z];Z++,ae(e),Je(e.$$)}}catch(e){throw te.length=0,Z=0,e}for(ae(null),te.length=0,Z=0;Se.length;)Se.pop()();for(let e=0;e<ne.length;e+=1){const n=ne[e];ke.has(n)||(ke.add(n),n())}ne.length=0}while(te.length);for(;Le.length;)Le.pop()();ye=!1,ke.clear(),ae(t)}function Je(t){if(t.fragment!==null){t.update(),V(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(de)}}function Qe(t){const e=[],n=[];ne.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),ne=e}const me=new Set;let X;function Xe(){X={r:0,c:[],p:X}}function Ze(){X.r||V(X.c),X=X.p}function Y(t,e){t&&t.i&&(me.delete(t),t.i(e))}function se(t,e,n,s){if(t&&t.o){if(me.has(t))return;me.add(t),X.c.push(()=>{me.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function Te(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function et(t,e){t.d(1),e.delete(t.key)}function tt(t,e,n,s,l,a,c,f,d,u,h,_){let p=t.length,m=a.length,g=p;const $={};for(;g--;)$[t[g].key]=g;const w=[],D=new Map,y=new Map,O=[];for(g=m;g--;){const v=_(l,a,g),M=n(v);let I=c.get(M);I?O.push(()=>I.p(v,e)):(I=u(M,v),I.c()),D.set(M,w[g]=I),M in $&&y.set(M,Math.abs(g-$[M]))}const H=new Set,P=new Set;function k(v){Y(v,1),v.m(f,h),c.set(v.key,v),h=v.first,m--}for(;p&&m;){const v=w[m-1],M=t[p-1],I=v.key,j=M.key;v===M?(h=v.first,p--,m--):D.has(j)?!c.has(I)||H.has(I)?k(v):P.has(j)?p--:y.get(I)>y.get(j)?(P.add(I),k(v)):(H.add(j),p--):(d(M,c),p--)}for(;p--;){const v=t[p];D.has(v.key)||d(v,c)}for(;m;)k(w[m-1]);return V(O),w}function ve(t){t&&t.c()}function oe(t,e,n){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),de(()=>{const a=t.$$.on_mount.map(Ae).filter(Oe);t.$$.on_destroy?t.$$.on_destroy.push(...a):V(a),t.$$.on_mount=[]}),l.forEach(de)}function re(t,e){const n=t.$$;n.fragment!==null&&(Qe(n.after_update),V(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nt(t,e){t.$$.dirty[0]===-1&&(te.push(t),Ye(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,n,s,l,a,c=null,f=[-1]){const d=fe;ae(t);const u=t.$$={fragment:null,ctx:[],props:a,update:N,not_equal:l,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:$e(),dirty:f,skip_bound:!1,root:e.target||d.$$.root};c&&c(u.root);let h=!1;if(u.ctx=n?n(t,e.props||{},(_,p,...m)=>{const g=m.length?m[0]:p;return u.ctx&&l(u.ctx[_],u.ctx[_]=g)&&(!u.skip_bound&&u.bound[_]&&u.bound[_](g),h&&nt(t,_)),p}):[],u.update(),h=!0,V(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const _=Ge(e.target);u.fragment&&u.fragment.l(_),_.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&Y(t.$$.fragment),oe(t,e.target,e.anchor),Ne()}ae(d)}class he{constructor(){be(this,"$$");be(this,"$$set")}$destroy(){re(this,1),this.$destroy=N}$on(e,n){if(!Oe(n))return N;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!xe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const st="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(st);const ee=[];function qe(t,e=N){let n;const s=new Set;function l(f){if(ie(t,f)&&(t=f,n)){const d=!ee.length;for(const u of s)u[1](),ee.push(u,t);if(d){for(let u=0;u<ee.length;u+=2)ee[u][0](ee[u+1]);ee.length=0}}}function a(f){l(f(t))}function c(f,d=N){const u=[f,d];return s.add(u),s.size===1&&(n=e(l,a)||N),f(t),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:l,update:a,subscribe:c}}function lt(){const{subscribe:t,set:e,update:n}=qe([]);return{subscribe:t,set:e,add:s=>n(l=>[...l,s]),remove:s=>n(l=>l.filter(a=>a.id!==s)),update:(s,l)=>n(a=>a.map(c=>c.id===s?{...c,...l}:c)),clear:()=>e([])}}const ue=lt();function it(t){let e,n,s,l,a,c,f;return{c(){e=o("div"),e.innerHTML='<span class="icon"><i class="fas fa-record-vinyl"></i></span> <span>녹화 중... 페이지에서 마우스 클릭과 키보드 입력을 기록합니다.</span>',n=b(),s=o("div"),l=o("div"),a=o("button"),a.innerHTML='<span class="icon"><i class="fas fa-stop"></i></span> <span>녹화 중지</span>',r(e,"class","notification is-warning is-light"),r(a,"class","button is-danger"),r(l,"class","control"),r(s,"class","field svelte-13umhvu")},m(d,u){A(d,e,u),A(d,n,u),A(d,s,u),i(s,l),i(l,a),c||(f=z(a,"click",t[4]),c=!0)},p:N,d(d){d&&(E(e),E(n),E(s)),c=!1,f()}}}function ct(t){let e,n,s,l,a,c,f,d,u,h,_,p,m,g,$,w,D,y,O,H,P;return{c(){e=o("div"),n=o("label"),n.textContent="매크로 이름",s=b(),l=o("div"),a=o("input"),c=b(),f=o("div"),d=o("label"),d.textContent="설명 (선택사항)",u=b(),h=o("div"),_=o("textarea"),p=b(),m=o("div"),g=o("div"),$=o("button"),w=o("span"),w.innerHTML='<i class="fas fa-record-vinyl"></i>',D=b(),y=o("span"),y.textContent="녹화 시작",r(n,"class","label"),r(a,"class","input"),r(a,"type","text"),r(a,"placeholder","매크로 이름을 입력하세요"),r(l,"class","control"),r(e,"class","field svelte-13umhvu"),r(d,"class","label"),r(_,"class","textarea"),r(_,"placeholder","매크로에 대한 설명을 입력하세요"),r(h,"class","control"),r(f,"class","field svelte-13umhvu"),r(w,"class","icon"),r($,"class","button is-success"),$.disabled=O=!t[1].trim(),r(g,"class","control"),r(m,"class","field svelte-13umhvu")},m(k,v){A(k,e,v),i(e,n),i(e,s),i(e,l),i(l,a),W(a,t[1]),A(k,c,v),A(k,f,v),i(f,d),i(f,u),i(f,h),i(h,_),W(_,t[2]),A(k,p,v),A(k,m,v),i(m,g),i(g,$),i($,w),i($,D),i($,y),H||(P=[z(a,"input",t[5]),z(_,"input",t[6]),z($,"click",t[3])],H=!0)},p(k,v){v&2&&a.value!==k[1]&&W(a,k[1]),v&4&&W(_,k[2]),v&2&&O!==(O=!k[1].trim())&&($.disabled=O)},d(k){k&&(E(e),E(c),E(f),E(p),E(m)),H=!1,V(P)}}}function at(t){let e,n,s;function l(f,d){return f[0]?it:ct}let a=l(t),c=a(t);return{c(){e=o("div"),n=o("h3"),n.innerHTML=`<i class="fas fa-microphone"></i>
    매크로 녹화`,s=b(),c.c(),r(n,"class","title is-5 svelte-13umhvu"),r(e,"class","box svelte-13umhvu")},m(f,d){A(f,e,d),i(e,n),i(e,s),c.m(e,null)},p(f,[d]){a===(a=l(f))&&c?c.p(f,d):(c.d(1),c=a(f),c&&(c.c(),c.m(e,null)))},i:N,o:N,d(f){f&&E(e),c.d()}}}function ot(t,e,n){const s=Pe();let l=!1,a="",c="";function f(){if(!a.trim()){alert("매크로 이름을 입력해주세요.");return}n(0,l=!0),s("recordingStarted"),chrome.tabs.query({active:!0,currentWindow:!0},p=>{var m;(m=p[0])!=null&&m.id&&chrome.tabs.sendMessage(p[0].id,{type:"START_RECORDING",macroName:a})})}function d(){n(0,l=!1),s("recordingStopped"),chrome.tabs.query({active:!0,currentWindow:!0},p=>{var m;(m=p[0])!=null&&m.id&&chrome.tabs.sendMessage(p[0].id,{type:"STOP_RECORDING"})})}function u(p){const m={id:Date.now().toString(),name:a,description:c,actions:p,createdAt:new Date};ue.add(m),chrome.storage.sync.get("macros",g=>{const $=g.macros||[];$.push(m),chrome.storage.sync.set({macros:$})}),n(1,a=""),n(2,c="")}chrome.runtime.onMessage.addListener((p,m,g)=>{p.type==="RECORDED_ACTIONS"&&l&&(u(p.actions),n(0,l=!1),s("recordingStopped"))});function h(){a=this.value,n(1,a)}function _(){c=this.value,n(2,c)}return[l,a,c,f,d,h,_]}class rt extends he{constructor(e){super(),pe(this,e,ot,at,ie,{})}}function Ce(t,e,n){const s=t.slice();return s[7]=e[n],s}function ut(t){let e,n=[],s=new Map,l=Te(t[1]);const a=c=>c[7].id;for(let c=0;c<l.length;c+=1){let f=Ce(t,l,c),d=a(f);s.set(d,n[c]=He(d,f))}return{c(){e=o("div");for(let c=0;c<n.length;c+=1)n[c].c();r(e,"class","macro-list svelte-54b9s0")},m(c,f){A(c,e,f);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null)},p(c,f){f&15&&(l=Te(c[1]),n=tt(n,f,a,1,c,l,s,e,et,He,null,Ce))},d(c){c&&E(e);for(let f=0;f<n.length;f+=1)n[f].d()}}}function ft(t){let e;return{c(){e=o("div"),e.innerHTML='<span class="icon"><i class="fas fa-info-circle"></i></span> <span>저장된 매크로가 없습니다. 새로운 매크로를 녹화해보세요.</span>',r(e,"class","notification is-light")},m(n,s){A(n,e,s)},p:N,d(n){n&&E(e)}}}function Ee(t){let e,n=t[7].description+"",s;return{c(){e=o("p"),s=F(n),r(e,"class","subtitle is-7")},m(l,a){A(l,e,a),i(e,s)},p(l,a){a&2&&n!==(n=l[7].description+"")&&le(s,n)},d(l){l&&E(e)}}}function De(t){let e,n=ge(t[7].lastUsed)+"",s;return{c(){e=F("| 마지막 사용: "),s=F(n)},m(l,a){A(l,e,a),A(l,s,a)},p(l,a){a&2&&n!==(n=ge(l[7].lastUsed)+"")&&le(s,n)},d(l){l&&(E(e),E(s))}}}function He(t,e){let n,s,l,a,c,f,d=e[7].name+"",u,h,_,p,m,g=ge(e[7].createdAt)+"",$,w,D,y,O,H,P,k,v,M,I,j,q,S=e[7].description&&Ee(e),R=e[7].lastUsed&&De(e);function x(){return e[4](e[7])}function L(){return e[5](e[7])}return{key:t,first:null,c(){n=o("div"),s=o("div"),l=o("div"),a=o("div"),c=o("div"),f=o("h4"),u=F(d),h=b(),S&&S.c(),_=b(),p=o("p"),m=F("생성: "),$=F(g),w=b(),R&&R.c(),D=b(),y=o("div"),O=o("div"),H=o("div"),P=o("button"),k=o("span"),k.innerHTML='<i class="fas fa-play"></i>',v=b(),M=o("button"),M.innerHTML='<span class="icon"><i class="fas fa-trash"></i></span>',I=b(),r(f,"class","title is-6 svelte-54b9s0"),r(p,"class","is-size-7 has-text-grey"),r(a,"class","level-item"),r(l,"class","level-left"),r(k,"class","icon"),r(P,"class","button is-success"),P.disabled=e[0],r(M,"class","button is-danger"),r(H,"class","buttons are-small"),r(O,"class","level-item"),r(y,"class","level-right"),r(s,"class","level"),r(n,"class","box macro-item svelte-54b9s0"),this.first=n},m(B,U){A(B,n,U),i(n,s),i(s,l),i(l,a),i(a,c),i(c,f),i(f,u),i(c,h),S&&S.m(c,null),i(c,_),i(c,p),i(p,m),i(p,$),i(p,w),R&&R.m(p,null),i(s,D),i(s,y),i(y,O),i(O,H),i(H,P),i(P,k),i(H,v),i(H,M),i(n,I),j||(q=[z(P,"click",x),z(M,"click",L)],j=!0)},p(B,U){e=B,U&2&&d!==(d=e[7].name+"")&&le(u,d),e[7].description?S?S.p(e,U):(S=Ee(e),S.c(),S.m(c,_)):S&&(S.d(1),S=null),U&2&&g!==(g=ge(e[7].createdAt)+"")&&le($,g),e[7].lastUsed?R?R.p(e,U):(R=De(e),R.c(),R.m(p,null)):R&&(R.d(1),R=null),U&1&&(P.disabled=e[0])},d(B){B&&E(n),S&&S.d(),R&&R.d(),j=!1,V(q)}}}function dt(t){let e,n,s;function l(f,d){return f[1].length===0?ft:ut}let a=l(t),c=a(t);return{c(){e=o("div"),n=o("h3"),n.innerHTML=`<i class="fas fa-list"></i>
    저장된 매크로`,s=b(),c.c(),r(n,"class","title is-5 svelte-54b9s0"),r(e,"class","box svelte-54b9s0")},m(f,d){A(f,e,d),i(e,n),i(e,s),c.m(e,null)},p(f,[d]){a===(a=l(f))&&c?c.p(f,d):(c.d(1),c=a(f),c&&(c.c(),c.m(e,null)))},i:N,o:N,d(f){f&&E(e),c.d()}}}function ge(t){return new Date(t).toLocaleDateString("ko-KR")}function pt(t,e,n){let s;je(t,ue,u=>n(1,s=u));let l=!1;function a(u){l||(n(0,l=!0),chrome.tabs.query({active:!0,currentWindow:!0},h=>{var _;(_=h[0])!=null&&_.id&&chrome.tabs.sendMessage(h[0].id,{type:"PLAY_MACRO",macro:u})}),ue.update(u.id,{lastUsed:new Date}),chrome.storage.sync.get("macros",h=>{const p=(h.macros||[]).map(m=>m.id===u.id?{...m,lastUsed:new Date}:m);chrome.storage.sync.set({macros:p})}))}function c(u){confirm(`"${u.name}" 매크로를 삭제하시겠습니까?`)&&(ue.remove(u.id),chrome.storage.sync.get("macros",h=>{const p=(h.macros||[]).filter(m=>m.id!==u.id);chrome.storage.sync.set({macros:p})}))}return chrome.runtime.onMessage.addListener((u,h,_)=>{u.type==="MACRO_COMPLETED"&&n(0,l=!1)}),[l,s,a,c,u=>a(u),u=>c(u)]}class ht extends he{constructor(e){super(),pe(this,e,pt,dt,ie,{})}}function _t(){const{subscribe:t,set:e,update:n}=qe({isEnabled:!0,autoDetect:!0,recordingSpeed:1,playbackSpeed:1});return{subscribe:t,set:e,update:s=>n(l=>({...l,...s}))}}const Q=_t();function mt(t){let e,n,s,l,a,c,f,d,u,h,_,p,m,g,$,w,D,y,O,H,P,k,v,M,I,j,q,S,R,x,L,B,U,C,T,G,we;return{c(){e=o("div"),n=o("h3"),n.innerHTML=`<i class="fas fa-cog"></i>
    설정`,s=b(),l=o("div"),a=o("label"),c=o("input"),f=F(`\r
      자동 감지 활성화`),d=b(),u=o("p"),u.textContent="페이지 로드 시 자동으로 티켓팅 사이트를 감지합니다.",h=b(),_=o("div"),p=o("label"),p.textContent="녹화 속도",m=b(),g=o("div"),$=o("div"),w=o("select"),D=o("option"),D.textContent="0.5x (느리게)",y=o("option"),y.textContent="1x (보통)",O=o("option"),O.textContent="1.5x (빠르게)",H=o("option"),H.textContent="2x (매우 빠르게)",P=b(),k=o("div"),v=o("label"),v.textContent="재생 속도",M=b(),I=o("div"),j=o("div"),q=o("select"),S=o("option"),S.textContent="0.5x (느리게)",R=o("option"),R.textContent="1x (보통)",x=o("option"),x.textContent="1.5x (빠르게)",L=o("option"),L.textContent="2x (매우 빠르게)",B=b(),U=o("div"),C=o("div"),T=o("button"),T.innerHTML='<span class="icon"><i class="fas fa-external-link-alt"></i></span> <span>고급 설정</span>',r(n,"class","title is-5 svelte-jvis4k"),r(c,"type","checkbox"),r(a,"class","checkbox"),r(u,"class","help svelte-jvis4k"),r(l,"class","field svelte-jvis4k"),r(p,"class","label"),D.__value=.5,W(D,D.__value),y.__value=1,W(y,y.__value),O.__value=1.5,W(O,O.__value),H.__value=2,W(H,H.__value),t[0].recordingSpeed===void 0&&de(()=>t[4].call(w)),r($,"class","select"),r(g,"class","control"),r(_,"class","field svelte-jvis4k"),r(v,"class","label"),S.__value=.5,W(S,S.__value),R.__value=1,W(R,R.__value),x.__value=1.5,W(x,x.__value),L.__value=2,W(L,L.__value),t[0].playbackSpeed===void 0&&de(()=>t[6].call(q)),r(j,"class","select"),r(I,"class","control"),r(k,"class","field svelte-jvis4k"),r(T,"class","button is-info is-small"),r(C,"class","control"),r(U,"class","field svelte-jvis4k"),r(e,"class","box svelte-jvis4k")},m(J,ce){A(J,e,ce),i(e,n),i(e,s),i(e,l),i(l,a),i(a,c),c.checked=t[0].autoDetect,i(a,f),i(l,d),i(l,u),i(e,h),i(e,_),i(_,p),i(_,m),i(_,g),i(g,$),i($,w),i(w,D),i(w,y),i(w,O),i(w,H),_e(w,t[0].recordingSpeed,!0),i(e,P),i(e,k),i(k,v),i(k,M),i(k,I),i(I,j),i(j,q),i(q,S),i(q,R),i(q,x),i(q,L),_e(q,t[0].playbackSpeed,!0),i(e,B),i(e,U),i(U,C),i(C,T),G||(we=[z(c,"change",t[2]),z(c,"change",t[3]),z(w,"change",t[4]),z(w,"change",t[5]),z(q,"change",t[6]),z(q,"change",t[7]),z(T,"click",t[8])],G=!0)},p(J,[ce]){ce&1&&(c.checked=J[0].autoDetect),ce&1&&_e(w,J[0].recordingSpeed),ce&1&&_e(q,J[0].playbackSpeed)},i:N,o:N,d(J){J&&E(e),G=!1,V(we)}}}function vt(t,e,n){let s;je(t,Q,p=>n(0,s=p));function l(p,m){Q.update({[p]:m}),chrome.storage.sync.set({[p]:m})}function a(){s.autoDetect=this.checked,Q.set(s)}const c=()=>l("autoDetect",s.autoDetect);function f(){s.recordingSpeed=Me(this),Q.set(s)}const d=()=>l("recordingSpeed",s.recordingSpeed);function u(){s.playbackSpeed=Me(this),Q.set(s)}return[s,l,a,c,f,d,u,()=>l("playbackSpeed",s.playbackSpeed),()=>chrome.runtime.openOptionsPage()]}class gt extends he{constructor(e){super(),pe(this,e,vt,mt,ie,{})}}function Re(t){let e,n,s,l,a;return{c(){e=o("div"),n=o("span"),n.innerHTML='<i class="fas fa-exclamation-triangle"></i>',s=b(),l=o("span"),a=F(t[3]),r(n,"class","icon"),r(e,"class","notification is-danger is-light svelte-ua34nm")},m(c,f){A(c,e,f),i(e,n),i(e,s),i(e,l),i(l,a)},p(c,f){f&8&&le(a,c[3])},d(c){c&&E(e)}}}function bt(t){let e,n,s;return{c(){e=o("span"),e.innerHTML='<i class="fas fa-sign-in-alt"></i>',n=b(),s=o("span"),s.textContent="로그인",r(e,"class","icon")},m(l,a){A(l,e,a),A(l,n,a),A(l,s,a)},d(l){l&&(E(e),E(n),E(s))}}}function kt(t){let e,n,s;return{c(){e=o("span"),e.innerHTML='<i class="fas fa-spinner fa-spin"></i>',n=b(),s=o("span"),s.textContent="로그인 중...",r(e,"class","icon")},m(l,a){A(l,e,a),A(l,n,a),A(l,s,a)},d(l){l&&(E(e),E(n),E(s))}}}function yt(t){let e,n,s,l,a,c,f,d,u,h,_,p,m,g,$,w,D,y,O,H,P,k,v,M,I,j,q,S,R,x,L=t[3]&&Re(t);function B(T,G){return T[2]?kt:bt}let U=B(t),C=U(t);return{c(){e=o("main"),n=o("div"),s=o("div"),s.innerHTML=`<h1 class="title is-3 svelte-ua34nm"><i class="fas fa-ticket-alt"></i>
        Ticketing Macro</h1> <p class="subtitle is-6 svelte-ua34nm">티켓팅 매크로 서비스에 로그인하세요</p>`,l=b(),L&&L.c(),a=b(),c=o("div"),f=o("label"),f.textContent="이메일",d=b(),u=o("div"),h=o("input"),_=b(),p=o("span"),p.innerHTML='<i class="fas fa-envelope"></i>',m=b(),g=o("div"),$=o("label"),$.textContent="비밀번호",w=b(),D=o("div"),y=o("input"),O=b(),H=o("span"),H.innerHTML='<i class="fas fa-lock"></i>',P=b(),k=o("div"),v=o("div"),M=o("button"),C.c(),I=b(),j=o("div"),j.innerHTML=`<p class="is-size-7 has-text-grey">계정이 없으신가요? 
        <a href="#" class="has-text-primary">회원가입</a></p>`,q=b(),S=o("div"),S.innerHTML='<p class="is-size-7 has-text-grey"><a href="#" class="has-text-primary">비밀번호 찾기</a></p>',r(s,"class","has-text-centered mb-5"),r(f,"class","label"),r(h,"class","input"),r(h,"type","email"),r(h,"placeholder","이메일을 입력하세요"),h.disabled=t[2],r(p,"class","icon is-small is-left"),r(u,"class","control has-icons-left"),r(c,"class","field"),r($,"class","label"),r(y,"class","input"),r(y,"type","password"),r(y,"placeholder","비밀번호를 입력하세요"),y.disabled=t[2],r(H,"class","icon is-small is-left"),r(D,"class","control has-icons-left"),r(g,"class","field"),r(M,"class","button is-primary is-fullwidth"),M.disabled=t[2],r(v,"class","control"),r(k,"class","field"),r(j,"class","has-text-centered mt-4"),r(S,"class","has-text-centered mt-3"),r(n,"class","box svelte-ua34nm"),r(e,"class","container svelte-ua34nm"),K(e,"width","350px"),K(e,"min-height","400px"),K(e,"padding","16px")},m(T,G){A(T,e,G),i(e,n),i(n,s),i(n,l),L&&L.m(n,null),i(n,a),i(n,c),i(c,f),i(c,d),i(c,u),i(u,h),W(h,t[0]),i(u,_),i(u,p),i(n,m),i(n,g),i(g,$),i(g,w),i(g,D),i(D,y),W(y,t[1]),i(D,O),i(D,H),i(n,P),i(n,k),i(k,v),i(v,M),C.m(M,null),i(n,I),i(n,j),i(n,q),i(n,S),R||(x=[z(h,"input",t[6]),z(h,"keypress",t[5]),z(y,"input",t[7]),z(y,"keypress",t[5]),z(M,"click",t[4])],R=!0)},p(T,[G]){T[3]?L?L.p(T,G):(L=Re(T),L.c(),L.m(n,a)):L&&(L.d(1),L=null),G&4&&(h.disabled=T[2]),G&1&&h.value!==T[0]&&W(h,T[0]),G&4&&(y.disabled=T[2]),G&2&&y.value!==T[1]&&W(y,T[1]),U!==(U=B(T))&&(C.d(1),C=U(T),C&&(C.c(),C.m(M,null))),G&4&&(M.disabled=T[2])},i:N,o:N,d(T){T&&E(e),L&&L.d(),C.d(),R=!1,V(x)}}}function wt(t,e,n){const s=Pe();let l="",a="",c=!1,f="";async function d(){if(!l.trim()||!a.trim()){n(3,f="이메일과 비밀번호를 입력해주세요.");return}n(2,c=!0),n(3,f="");try{await new Promise(m=>setTimeout(m,1e3));const p="mock_token_"+Date.now();await chrome.storage.sync.set({isLoggedIn:!0,userToken:p,userEmail:l}),s("loginSuccess")}catch{n(3,f="로그인에 실패했습니다. 다시 시도해주세요.")}finally{n(2,c=!1)}}function u(p){p.key==="Enter"&&d()}function h(){l=this.value,n(0,l)}function _(){a=this.value,n(1,a)}return[l,a,c,f,d,u,h,_]}class $t extends he{constructor(e){super(),pe(this,e,wt,yt,ie,{})}}function Mt(t){let e,n,s,l,a,c,f,d,u,h,_,p,m,g,$,w,D,y,O,H,P,k=t[0]?"활성화됨":"비활성화됨",v,M,I,j,q,S,R,x,L,B,U;return j=new rt({}),S=new ht({}),x=new gt({}),{c(){e=o("main"),n=o("div"),s=o("div"),l=o("div"),l.innerHTML=`<div class="level-item"><h1 class="title is-4 svelte-623kfo"><i class="fas fa-ticket-alt"></i>
              Ticketing Macro</h1></div>`,a=b(),c=o("div"),f=o("div"),d=o("div"),u=o("input"),h=b(),_=o("label"),p=o("span"),m=o("i"),$=b(),w=o("div"),D=o("span"),y=o("i"),H=b(),P=o("span"),v=F(k),I=b(),ve(j.$$.fragment),q=b(),ve(S.$$.fragment),R=b(),ve(x.$$.fragment),r(l,"class","level-left"),r(u,"id","toggleEnabled"),r(u,"type","checkbox"),r(u,"class","is-checkradio is-success"),r(m,"class",g="fas fa-"+(t[0]?"check":"times")),r(p,"class","icon is-small"),r(_,"for","toggleEnabled"),r(d,"class","field"),r(f,"class","level-item"),r(c,"class","level-right"),r(s,"class","level"),r(y,"class",O="fas fa-"+(t[0]?"play":"pause")),r(D,"class","icon"),r(w,"class",M="notification is-"+(t[0]?"success":"danger")+" is-light svelte-623kfo"),r(n,"class","box svelte-623kfo"),r(e,"class","container svelte-623kfo"),K(e,"width","350px"),K(e,"min-height","400px"),K(e,"padding","16px")},m(C,T){A(C,e,T),i(e,n),i(n,s),i(s,l),i(s,a),i(s,c),i(c,f),i(f,d),i(d,u),u.checked=t[0],i(d,h),i(d,_),i(_,p),i(p,m),i(n,$),i(n,w),i(w,D),i(D,y),i(w,H),i(w,P),i(P,v),i(n,I),oe(j,n,null),i(n,q),oe(S,n,null),i(n,R),oe(x,n,null),L=!0,B||(U=[z(u,"change",t[5]),z(u,"change",t[3])],B=!0)},p(C,T){T&1&&(u.checked=C[0]),(!L||T&1&&g!==(g="fas fa-"+(C[0]?"check":"times")))&&r(m,"class",g),(!L||T&1&&O!==(O="fas fa-"+(C[0]?"play":"pause")))&&r(y,"class",O),(!L||T&1)&&k!==(k=C[0]?"활성화됨":"비활성화됨")&&le(v,k),(!L||T&1&&M!==(M="notification is-"+(C[0]?"success":"danger")+" is-light svelte-623kfo"))&&r(w,"class",M)},i(C){L||(Y(j.$$.fragment,C),Y(S.$$.fragment,C),Y(x.$$.fragment,C),L=!0)},o(C){se(j.$$.fragment,C),se(S.$$.fragment,C),se(x.$$.fragment,C),L=!1},d(C){C&&E(e),re(j),re(S),re(x),B=!1,V(U)}}}function St(t){let e,n;return e=new $t({}),e.$on("loginSuccess",t[4]),{c(){ve(e.$$.fragment)},m(s,l){oe(e,s,l),n=!0},p:N,i(s){n||(Y(e.$$.fragment,s),n=!0)},o(s){se(e.$$.fragment,s),n=!1},d(s){re(e,s)}}}function Lt(t){let e;return{c(){e=o("div"),e.innerHTML='<div class="box svelte-623kfo"><div class="has-text-centered"><i class="fas fa-spinner fa-spin fa-2x"></i> <p class="mt-3">로딩 중...</p></div></div>',r(e,"class","container svelte-623kfo"),K(e,"width","350px"),K(e,"min-height","400px"),K(e,"padding","16px"),K(e,"display","flex"),K(e,"align-items","center"),K(e,"justify-content","center")},m(n,s){A(n,e,s)},p:N,i:N,o:N,d(n){n&&E(e)}}}function Tt(t){let e,n,s,l;const a=[Lt,St,Mt],c=[];function f(d,u){return d[2]?0:d[1]?2:1}return e=f(t),n=c[e]=a[e](t),{c(){n.c(),s=Be()},m(d,u){c[e].m(d,u),A(d,s,u),l=!0},p(d,[u]){let h=e;e=f(d),e===h?c[e].p(d,u):(Xe(),se(c[h],1,1,()=>{c[h]=null}),Ze(),n=c[e],n?n.p(d,u):(n=c[e]=a[e](d),n.c()),Y(n,1),n.m(s.parentNode,s))},i(d){l||(Y(n),l=!0)},o(d){se(n),l=!1},d(d){d&&E(s),c[e].d(d)}}}function Ct(t,e,n){let s=!0,l=!1,a=!0;Fe(async()=>{const u=await chrome.storage.sync.get(["isLoggedIn","userToken"]);if(n(1,l=u.isLoggedIn===!0&&u.userToken),!l){n(2,a=!1);return}const[h]=await chrome.tabs.query({active:!0,currentWindow:!0}),_=await chrome.storage.sync.get(["isEnabled","autoDetect"]);n(0,s=_.isEnabled!==!1),Q.set({autoDetect:_.autoDetect!==!1,isEnabled:s});const p=await chrome.storage.sync.get("macros");p.macros&&ue.set(p.macros),n(2,a=!1)});function c(){n(0,s=!s),Q.update(u=>({...u,isEnabled:s})),chrome.storage.sync.set({isEnabled:s})}function f(){n(1,l=!0),chrome.storage.sync.set({isLoggedIn:!0})}function d(){s=this.checked,n(0,s)}return[s,l,a,c,f,d]}class Et extends he{constructor(e){super(),pe(this,e,Ct,Tt,ie,{})}}new Et({target:document.getElementById("app")});
